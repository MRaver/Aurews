<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Montserrat:400,700&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
    />
    <!-- Default set up -->
    <link rel="stylesheet" href="../assets/css/base.css" />
    <link rel="stylesheet" href="../components/nav/nav.css" />
    <link rel="stylesheet" href="../components/footer/footer.css" />
    <link rel="stylesheet" href="../components/mobileMenu/mobileMenu.css" />

    <link rel="stylesheet" href="../assets/css/addPost.css" />

    <title>Add Post - Aurews</title>
  </head>

  <body>
    <header>
      <div id="nav-placeholder"></div>

      <!-- Mobile Menu -->
      <div id="mobile-menu-placeholder"></div>
    </header>

    <main>
      <div class="addpost__container">
        <div class="addpost__header">
          <h1>Create New Post</h1>
          <p>Share your story with the world</p>
        </div>

        <form id="addPostForm">
          <div class="form-row">
            <div class="form-group">
              <label for="postTitle">Post Title *</label>
              <input
                type="text"
                id="postTitle"
                name="postTitle"
                placeholder="Enter an engaging title"
                required
              />
            </div>

            <div class="form-group">
              <label for="postCategory">Category *</label>
              <select id="postCategory" name="postCategory" required>
                <option value="">Select a category</option>
                <option value="Business News">Business News</option>
                <option value="Money and Markets">Money & Markets</option>
                <option value="Tech and Innovation">Tech & Innovation</option>
                <option value="A.I.">A.I.</option>
                <option value="Lifestyle">Lifestyle</option>
                <option value="Politics">Politics</option>
                <option value="Latest">Latest</option>
              </select>
            </div>
          </div>

          <div class="form-group">
            <label for="postAuthor">Author Name *</label>
            <input
              type="text"
              id="postAuthor"
              name="postAuthor"
              placeholder="Your name"
              required
            />
          </div>

          <div class="form-group">
            <label for="postImage">Featured Image</label>
            <input
              type="file"
              id="postImage"
              name="postImage"
              accept="image/*"
            />
            <small
              >Upload a cover image for your post (JPG, PNG, max 5MB)</small
            >
            <div class="image-preview" id="imagePreview">
              <p>Image preview will appear here</p>
              <img id="previewImg" alt="Preview" />
            </div>
          </div>

          <div class="form-group">
            <label for="postContent">Post Content *</label>
            <textarea
              id="postContent"
              name="postContent"
              placeholder="Write your post content here... Share your thoughts, insights, and stories."
              required
            ></textarea>
            <small>Minimum 100 characters</small>
          </div>

          <div class="submit-section">
            <button
              type="button"
              class="btn btn-secondary"
              onclick="window.location.href='Index.html'"
            >
              Cancel
            </button>
            <button type="submit" class="btn btn-primary">Publish Post</button>
          </div>
        </form>
      </div>
    </main>

    <footer>
      <div class="footer__container">
        <div class="footer__newsletter">
          <h2 class="newsletter__title">
            Get updates delivered directly to your inbox.
          </h2>
          <form class="newsletter__formbox">
            <input type="text" placeholder="Enter your email" />
            <button type="submit">Subscribe</button>
          </form>
          <p class="siteinfo__description">
            By subscribing you agree to our <a href="/">Privacy Policy</a> and
            provide consent to receive updates from our company
          </p>
        </div>
        <div class="siteinfo__right">
          <div class="icon__container">
            <a href="#"><i class="fa-brands fa-facebook"></i></a>
            <a href="#"><i class="fa-brands fa-instagram"></i></a>
            <a href="#"><i class="fa-brands fa-x-twitter"></i></a>
            <a href="#"><i class="fa-brands fa-youtube"></i></a>
          </div>
          <div class="contact">
            <i class="fa-solid fa-phone-volume"></i>
            <a href="tel:012312308721398">012312308721398</a>
          </div>
          <div class="email">
            <i class="fa-solid fa-envelope"></i>
            <a href="mailto:aurews@gmail.com">aurews@gmail.com</a>
          </div>
          <div class="end">
            <p>Â© 2025 NhÃ³m 13, Inc. All rights reserved.</p>
          </div>
          <div class="options__container">
            <ul class="option">
              <li>Terms</li>
              <li>Privacy</li>
              <li>Cookie Policy</li>
              <li>Support</li>
              <li>Sitemap</li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <script src="../assets/js/main.js"></script>
    <script>
      // Toggle Mobile Menu
      function toggleMenu() {
        const overlay = document.querySelector(".mobile-menu-overlay");
        const menu = document.querySelector(".mobile-menu");
        overlay.classList.toggle("active");
        menu.classList.toggle("active");
      }

      // Image Preview
      document
        .getElementById("postImage")
        .addEventListener("change", function (e) {
          const file = e.target.files[0];
          if (file) {
            const reader = new FileReader();
            reader.onload = function (event) {
              const preview = document.getElementById("imagePreview");
              const img = document.getElementById("previewImg");
              img.src = event.target.result;
              preview.classList.add("has-image");
            };
            reader.readAsDataURL(file);
          }
        });

      // Form Submit Handler
      document
        .getElementById("addPostForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          const formData = {
            title: document.getElementById("postTitle").value.trim(),
            category: document.getElementById("postCategory").value,
            author: document.getElementById("postAuthor").value.trim(),
            content: document.getElementById("postContent").value.trim(),
            image: document.getElementById("postImage").files[0],
            createdAt: new Date().toISOString(),
          };

          // Validation
          if (formData.content.length < 100) {
            alert("Post content must be at least 100 characters long!");
            return;
          }

          // In thá»±c táº¿, báº¡n sáº½ gá»­i data nÃ y lÃªn backend
          console.log("Post Data:", formData);

          // Giáº£ láº­p lÆ°u vÃ o memory (thay tháº¿ localStorage)
          alert(
            "Post created successfully! ðŸŽ‰\n\nTitle: " +
              formData.title +
              "\nCategory: " +
              formData.category
          );

          // Redirect vá» trang chá»§
          // window.location.href = 'Index.html';
        });
    </script>
  </body>
</html>
